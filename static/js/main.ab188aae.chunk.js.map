{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItemImage.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Searchbar","submit","useState","picName","setPicName","className","s","onSubmit","ev","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","onChange","target","toLowerCase","autoComplete","autoFocus","placeholder","ImageGalleryItem","src","id","openModal","openLarge","srcLarge","ImageGalleryItemImage","onClick","alt","ImageGallery","img","modalO","largeUrl","map","webformatURL","largeImageURL","Button","Modal","backDrop","useEffect","handleEsc","evt","code","window","addEventListener","removeEventListener","Overlay","API_KEY","BASE_URL","App","q","setQ","images","setImages","page","setPage","isModal","setIsModal","largeImage","setLargeImage","isLoad","setIsLoad","a","fetch","getPhotos","then","res","json","data","hits","finally","onModalClose","e","color","height","width","timeout","length","handleEscape","currentTarget","position","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab188aae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItemImage_ImageGalleryItem__Hyfri\",\"ImageGalleryItem-image\":\"ImageGalleryItemImage_ImageGalleryItem-image__3nn3B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import { Component } from \"react\";\nimport { useState } from \"react\";\n\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nconst Searchbar = ({ submit }) => {\n  const [picName, setPicName] = useState(\"\");\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n    if (picName.trim() === \"\") {\n      toast.error(\"Type what you want see\");\n      return;\n    }\n    submit(picName);\n    setPicName(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          value={picName}\n          onChange={(ev) => setPicName(ev.target.value.toLowerCase())}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\n// export default class Searchbar extends Component {\n//   state = {\n//     picName: \"\",\n//   };\n\n// handleChange = (ev) => {\n//   this.setState({ picName: ev.target.value.toLowerCase() });\n// };\n\n// handleSubmit = (ev) => {\n//   ev.preventDefault();\n//   if (this.state.picName.trim() === \"\") {\n//     toast.error(\"enter someone\");\n//     return;\n//   }\n//   this.props.submit(this.state.picName);\n//   this.setState({ picName: \"\" });\n// };\n\n// render() {\n//   const { handleSubmit, handleChange } = this;\n//   const { picName } = this.state;\n//   return (\n//     <header className={s.Searchbar}>\n//       <form onSubmit={handleSubmit} className={s.SearchForm}>\n//         <button type=\"submit\" className={s.SearchFormButton}>\n//           <span className={s.SearchFormButtonLabel}>Search</span>\n//         </button>\n//         <input\n//           className={s.SearchFormInput}\n//           type=\"text\"\n//           value={picName}\n//           onChange={handleChange}\n//           autoComplete=\"off\"\n//           autoFocus\n//           placeholder=\"Search images and photos\"\n//         />\n//       </form>\n//     </header>\n//   );\n// }\n// }\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItemImage.module.css\";\n\nconst ImageGalleryItem = ({ src, id, openModal, openLarge, srcLarge }) => {\n  return (\n    <li id={id} className={s.ImageGalleryItem}>\n      <img\n        className={s.ImageGalleryItemImage}\n        onClick={() => {\n          openModal();\n          openLarge(srcLarge);\n        }}\n        src={src}\n        alt=\"\"\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nimport React from \"react\";\n// import PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ img, modalO, largeUrl }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {img.map(({ webformatURL, id, largeImageURL }) => (\n        <ImageGalleryItem\n          openLarge={largeUrl}\n          openModal={modalO}\n          key={id}\n          src={webformatURL}\n          srcLarge={largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n};\n\n// ImageGallery.propTypes = {\n//   img: PropTypes.array,\n// };\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <div>\n      <button onClick={onClick} type=\"button\" className={s.Button}>\n        Load more...\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {};\n\nexport default Button;\n","import React from \"react\";\nimport s from \"./Modal.module.css\";\nimport { useEffect } from \"react\";\n\nconst Modal = ({ onClick, backDrop, src }) => {\n  useEffect(() => {\n    const handleEsc = (evt) => {\n      if (evt.code === \"Escape\") {\n        onClick();\n      }\n    };\n    window.addEventListener(\"keydown\", handleEsc);\n    return () => {\n      window.removeEventListener(\"keydown\", handleEsc);\n    };\n  }, [onClick]);\n\n  return (\n    <div className={s.Overlay} onClick={backDrop}>\n      <div className={s.Modal}>\n        <img src={src} alt=\"\" />\n      </div>\n    </div>\n  );\n};\n\n// export class Modal extends React.Component {\n//   componentDidMount() {\n//     window.addEventListener(\"keydown\", this.props.handleEscape);\n//   }\n//   componentWillUnmount() {\n//     window.removeEventListener(\"keydown\", this.props.handleEscape);\n//   }\n\n//   render() {\n//     const { src } = this.props;\n//     return (\n//       <div className={s.Overlay} onClick={backDrop}>\n//         <div className={s.Modal}>\n//           <img src={src} alt=\"\" />\n//         </div>\n//       </div>\n//     );\n//   }\n// }\nexport default Modal;\n","import Searchbar from \"../Searchbar/Searchbar\";\nimport { Component } from \"react\";\nimport { useState, useEffect } from \"react\";\n\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"./App.css\";\n\nconst API_KEY = \"24480734-3d80cd0fb88d3e4535c800802\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst App = () => {\n  const [q, setQ] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isModal, setIsModal] = useState(false);\n  const [largeImage, setLargeImage] = useState(\"\");\n  const [isLoad, setIsLoad] = useState(false);\n\n  async function getPhotos() {\n    return await fetch(\n      `${BASE_URL}?key=${API_KEY}&q=${q}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`\n    );\n  }\n\n  useEffect(() => {\n    setIsLoad(true);\n    getPhotos()\n      .then((res) => res.json())\n      .then(\n        (data) => setImages(page === 1 ? data.hits : [...images, ...data.hits])\n        // this.setState((prevState) => ({\n        //   images: [...prevState.images, ...hits],\n        // }))\n      )\n      .finally(() => {\n        setIsLoad(false);\n      });\n  }, [q, page]);\n\n  const openLargeImg = (src) => {\n    setLargeImage(src);\n  };\n\n  const handleFormSubmit = (q) => {\n    setQ(q);\n    setImages([]);\n  };\n  const handleClick = () => {\n    setPage(page + 1);\n  };\n  // Modal\n  const onModalOpen = () => {\n    setIsModal(!isModal);\n  };\n  const handleEsc = (evt) => {\n    if (evt.code === \"Escape\") {\n      onModalClose();\n    }\n  };\n  const handleBackdrop = (e) => {\n    if (e.target === e.currentTarget) {\n      onModalClose();\n    }\n  };\n  const onModalClose = (e) => {\n    setIsModal(false);\n  };\n\n  return (\n    <>\n      <Searchbar submit={handleFormSubmit} />\n      {isLoad && (\n        <Loader\n          className=\"App-header\"\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={80}\n          width={80}\n          timeout={1500}\n        />\n      )}\n      {images.length > 0 && (\n        <ImageGallery\n          largeUrl={openLargeImg}\n          modalO={onModalOpen}\n          img={images}\n        />\n      )}\n\n      {images.length > 0 && <Button onClick={handleClick} />}\n      {isLoad && page !== 1 && <Loader />}\n      {isModal && (\n        <Modal\n          src={largeImage}\n          handleEscape={handleEsc}\n          onClick={onModalClose}\n          backDrop={handleBackdrop}\n        />\n      )}\n      <ToastContainer position=\"top-center\" autoClose={3000} />\n    </>\n  );\n};\n\n// export default class App extends Component {\n//   state = {\n//     q: \"\",\n//     images: [],\n//     page: 1,\n//     isModal: false,\n//     largeImage: \"\",\n//     isLoad: false,\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n// const { page, q } = this.state;\n\n// if (prevState.q !== q || prevState.page !== page) {\n//   this.setState({ isLoad: true });\n//   fetch(\n//     `${BASE_URL}?q=${q}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n//   )\n//     .then((res) => res.json())\n//     .then(({ hits }) =>\n//       this.setState((prevState) => ({\n//         images: [...prevState.images, ...hits],\n//       }))\n//     )\n//     .finally(() => {\n//       return this.setState({ isLoad: false });\n//     });\n// }\n//   }\n\n//   openLargeImg = (src) => {\n//     this.setState({ largeImage: src });\n//   };\n\n//   handleFormSubmit = (q) => {\n//     this.setState({ q, images: [] });\n//   };\n//   handleClick = () => {\n//     this.setState((prev) => ({\n//       page: prev.page + 1,\n//     }));\n//   };\n//   // Modal\n//   onModalOpen = () => {\n//     this.setState((prev) => ({ isModal: !prev.isModal }));\n//   };\n\n//   handleBackdrop = (e) => {\n//     if (e.target === e.currentTarget) {\n//       this.onModalClose();\n//     }\n//   };\n//   onModalClose = (e) => {\n//     this.setState({ isModal: false });\n//   };\n\n//   render() {\n//     const { isLoad, images, isModal, largeImage, page } = this.state;\n//     const {\n//       handleFormSubmit,\n//       handleEsc,\n//       onModalClose,\n//       handleClick,\n//       onModalOpen,\n//       openLargeImg,\n//       handleBackdrop,\n//     } = this;\n//     return (\n//       <>\n//         <Searchbar submit={handleFormSubmit} />\n//         {isLoad && (\n//           <Loader\n//             className=\"App-header\"\n//             type=\"ThreeDots\"\n//             color=\"#3f51b5\"\n//             height={80}\n//             width={80}\n//             timeout={1500}\n//           />\n//         )}\n//         {images.length > 0 && (\n//           <ImageGallery\n//             largeUrl={openLargeImg}\n//             modalO={onModalOpen}\n//             img={images}\n//           />\n//         )}\n\n//         {images.length > 0 && <Button onClick={handleClick} />}\n//         {isLoad && page !== 1 && <Loader />}\n//         {isModal && (\n//           <Modal\n//             src={largeImage}\n//             // handleEscape={handleEsc}\n//             onClick={onModalClose}\n//             backDrop={handleBackdrop}\n//           />\n//         )}\n\n//         <ToastContainer position=\"top-center\" autoClose={3000} />\n//       </>\n//     );\n//   }\n// }\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./styles/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}